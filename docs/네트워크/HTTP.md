***
## 1. 인터넷 네트워크
- 인터넷 통신 : 클라이언트와 서버간에 메세지를 주고받으면서 통신. 복잡한 인터넷 망으로 구성되어 있어, 메세지를 보내면 중간지점인 각 노드들을 거쳐 서버로 전달된다.
- IP : 클라이언트와 서버가 서로 통신하기위해서는 정확한 위치가 필요하다. 인터넷 상의 주소를 IP라고 하고 이 지정한 IP Address에 데이터를 전달한다. 
	- 패킷 : 하나의 통신 단위로,데이터를 이 단위로 전달
	- 패킷 정보 : 출발 IP, 도착 IP 전송 데이터 등이 있다.
	- 클라이언트가 패킷을 서버에 전달하면 서버도 패킷을 다시 보내 응답한다.
- IP 프로토콜의 한계 
	- 비연결성 : 패킷을 받을 대상이 없거나(소실), 서비스가 불능 상태여도 패킷은 전송된다.
	- 비신뢰성 : 중간에 패킷이 사라지거나, 패킷이 순서대로 안오는 경우
	- 프로그램 구분 : 같은 IP에서 게임을하면서 음악을 듣는 등, 통신하는 애플리케이션이 2개 이상일 경우에, 어느 프로그램에 패킷을 전송해야할지 모호
- TCP/ UDP
	- 인터넷 프로토콜 스택의 4 계층
		- 애플리케이션 계층 : HTTP,FTP
		- 전송 계층 : TCP, UDP
		- 인터넷 계층 : IP
		- 네트워크 인터페이스 계층![HTTP-20250117202717877.webp](images%2FHTTP-20250117202717877.webp)
	 - TCP (전송 제어 프로토콜, Transmission Control Protocol) 특징
		- 연결지향 - TCP 3 way handshake(가상 연결), 3단계로 진행
			1. SYN(접속 요청): 클라이언트 접속 요청
			2. ACK(요청 수락)+SYN : 서버 요청 수락 후 접속 요청
			3. ACK :클라이언트 요청 수락, 이 때 데이터 전송도 함께 가능하다.
		- 데이터 전달 보증 : 데이터를 받았다는 통신이 오기 때문에, 전달이 보증된다.
		- 순서 보장 : 패킷1, 패킷2 ... 순서로 전송된다. 순서가 다르면 서버에서 재요청
		- 신뢰할  수 있는 프로토콜, 현재 대부분 TCP사용
	- UDP(사용자 데이터그램 프로토콜, User Datagram Protocol)
		- 기능이 거의 없다.
		- TCP 3 way handshake이 없다. 
		- 데이터 전달 보증이 되지 않는다.
		- 순서 보장도 되지 않는다.
		- 데이터 전달 및 순서가 보장되지 않지만, 단순하고 빠르다.
		- IP 와 비슷. PORT +체크섬 정도만 추가
		- 애플리케이션에서 추가 작업 필요
	- PORT : 한번에 둘 이상의 연결이 필요한 경우 PORT 번호가 존재, 같은 IP 내에서 프로세스를 구분
		- 0 - 65535 : 할당 가능
		- 0 - 1023 : 잘 알려진 포트, 사용하지 않는 것이 좋다.
			- ex) FTP -20, 21 
			- HTTP - 80
			- HTTPS -443
	- DNS(Domain Name System) : IP는 변경이 가능하고, 기억하기 어려운 숫자 조합으로 되어있다.이를 해결하기위해 만들어진 시스템	
		- 도메인 명을 IP 주소로 변환
		- 전화번호부를 생각하면 된다.
		- 클라이언트가 도메인 명으로 요청 -> DNS서버에서 응답으로 IP 번호를 응답 -> 클라이언트가 응답받은 IP 서버로 접속
***
## 2. URI 와 웹 브라우저 요청 흐름
- URI (Uniform Resource Identifier)
	- Uniform : 리소스를  식별하는 통일된 방식
	- Resource : 자원, URI로 식별할 수 있는 모든 것(제한 없음)
	- Identifier : 다른 항목과 구분하는데 필요한 정보
	![HTTP-20250117202723058.webp](images%2FHTTP-20250117202723058.webp)
	- URL (Locator) : 리소스가 있는 위치를 지정
	- URN (NAME) : 리소스에 이름을 부여
	- 위치는 변할 수 있지만, 이름은 변하지 않는다.
	- URN 이름만으로 실제 리소스를 찾을 수있는 방법이 보편화되지 않았다.
	- URL 전체 문법
		-  `scheme://[userinfo@]host[:port][/path][?query][#fragment]`
		- scheme: : 주로 프로토콜 사용. 프로토콜이란 어떤 방식으로 자원에 접근할 것인가 하는 약속 규칙이다. http, https 등.
		- http는 80포트, 포트는 생략이 가능하다.
		- `[userinfo@]`: URL에 사용자정보를 포함해서 인증, 거의 사용하지 않는다.
		- `host`: 호스트명, 도메인명 또는 IP 주소를 직접 사용 가능하다.
		- `[:port]`: 접속 포트. 일반적으로 생략한다.
		- `[/path]`: 리소스 경로(path), 계층적 구조
		- `[?query]` : key=value 형태, ?로 시작, &로 추가 가능 ?KeyA=valueA&keyB=valueB
			- query parameter, query string 등으로 불린다. 웹서버에 제공하는 파라미터, 문자 형태
		- `[#fragment]`: html 내부 북마크 등에 사용, 서버에 전송하는 정보는 아니다.
	
- 웹 브라우저 요청 흐름
	- URL을 처음 접속시
		1. DNS 를 조회해서 IP주소를 전송받고, HTTP 요청 메세지를 생성한다.
		2. SOKET 라이브러리를 통해 전달
		3. TCP/IP 패킷을 생성한다. HTTP 메세지도 포함한다. 전송 데이터가 HTTP 메세지가 된다.![HTTP-20250117202735830.webp](images%2FHTTP-20250117202735830.webp)
		4. 서버에서 HTTP 응답 메세지를 보내온다. 응답 패킷을 전달함.
***
## 3. HTTP
- HTTP(HyperText Transfer Protocol) : HTTP 메세지에 모든 것을 전송할 수 있다. HTML, TEXT, IMAGE, 음성, 영상, 파일 등. 서버간 데이터를 주고 받을 때도 대부분 HTTP 사용

- HTTP 특징
	
	- 클라이언트 서버 구조 : Request, Response 구조 이다. 클라이언트는 서버에 요청을 보내고, 응답 대기. 서버가 요청 결과를 만들어 응답
	- 무상태 프로토콜(Stateless)
		- 서버가 클라이언트의 상태를 보존하지 않는다. ex) 이전 로그인상황이 풀림.
		- 서버 확장성은 높지만(서버가 여러대일 경우 서버장애시 대응 가능) 클라이언트가 추가로 데이터를 계속 전송해야한다.(로그인정보를 서버에 계속 보냄)
	- 비 연결성(connectionless)
		- 기본적으로 연결을 유지하지 않는다. 서버 자원을 매우 효율적으로 사용할 수있다. 
		- TCP/IP 연결을 계속 새로 맺어야 한다.(3 way handshake)
		- 웹브라우저로 사이트 요청시 JS,CSS 등 수 많은 자원을 다운받아야 함.
		- HTTP 지속 연결로 문제 해결
	- HTTP 메세지 : 모든 데이터를 HTTP 메세지에 담아서 주고받을 수 있음.
		- 구조 ![HTTP-20250117202740932.webp](images%2FHTTP-20250117202740932.webp)
		- 요청메세지
			- start-line : request-line 
			- request-line : method (공백) request-target (공백) HTTP-version CRLF(엔터)
			- HTTP 메서드 : 여러 종류의 메서드가 존재. GET,POST,PUT,PATCH,DELETE 
				- 서버가 수행해야 할 동작을 지정한다.
				- GET : 리소스 조회, 
				- POST : 요청 내역 처리, 메세지 바디를 통해 서버로 요청 데이터 전달, 서버는 요청 데이터를 처리
				- PUT : 리소스를 대체, 해당 리소스가 없으면 생성
				- PATCH : 리소스 부분 변경
				- DELETE : 리소스 삭제
			- / 로 시작하는 절대 경로 
			- HTTP Version : HTTP/1.1 버전
			
		- 응답 메세지
			- start-line = status-line
			- status-line = HTTP-version SP status-code SP reason-phrase CRLF 
			- HTTP 상태 코드 : 
				- 200 : 성공
				- 400 : 클라이언트 요청 오류
				- 500 : 서버 내부 오류
			
		- HTTP 헤더 
			- HTTP 전송에 필요한 모든 부가정보가 담겨 있다.
			- ex) 메세지 바디의 내용, 메세지 바디 크기, 압축, 인증, 요청 클라이언트 정보, 서버 애플리케이션 정보, 캐시 관리 정보 등
			- 표준 헤더가 많다.
		- HTTP 메세지 바디
			- 실제 전송할 데이터 : HTML 문서, 이미지, 영상, JSON 등, 모든 데이터 전송 가능

